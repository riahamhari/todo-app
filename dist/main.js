(()=>{"use strict";let e=0,t=[];function c(n){e++;const a=document.querySelector("#taskListSection"),o=document.createElement("li");o.classList.add("list-group-item","taskItem");const s=document.createElement("div");s.classList.add("taskName");const r=document.createElement("input");r.classList.add("form-check-input","me-1"),r.setAttribute("type","checkbox"),r.setAttribute("id",`todo${e}`);const i=document.createElement("label");i.classList.add("form-check-label"),i.setAttribute("data-bs-toggle","collapse"),i.setAttribute("data-bs-target",`#collapseDetails${e}`),i.setAttribute("aria-expanded","false"),i.setAttribute("aria-controls",`collapseDetails${e}`),i.setAttribute("type","button"),i.textContent=` ${n.name}`;const l=document.createElement("div");l.classList.add("taskAction"),document.createElement("div").classList.add("card"),document.createElement("div").classList.add("card-body");const d=document.createElement("div");d.classList.add("collapse"),d.setAttribute("id",`collapseDetails${e}`);const u=document.createElement("div");u.classList.add("card","card-body");const m=document.createElement("span");m.classList.add("list-group-item"),m.innerHTML=`<b>Due Date:</b> ${n.date} ${n.time}`;const p=document.createElement("span");p.classList.add("list-group-item"),p.innerHTML=`<b>Description:</b> ${n.description}`;const b=document.createElement("span");b.classList.add("list-group-item"),b.innerHTML=`<b>Priority:</b> ${n.priority}`;const y=document.createElement("i");y.classList.add("fa-regular","fa-pen-to-square","tt"),y.setAttribute("data-bs-placement","bottom"),y.setAttribute("title","edit");const f=document.createElement("i");f.classList.add("fa-solid","fa-flag","tt"),f.setAttribute("data-bs-placement","bottom"),f.setAttribute("title","Change Priority");const v=document.createElement("i");v.classList.add("fa-solid","fa-circle-arrow-right","tt"),v.setAttribute("data-bs-placement","bottom"),v.setAttribute("title","Move To Project");const L=document.createElement("i");L.classList.add("fa-regular","fa-trash-can","tt"),L.setAttribute("data-bs-placement","bottom"),L.addEventListener("click",(e=>{const n=t.findIndex((t=>t.name===e.composedPath()[2].innerText));var a;(a=n)>-1&&t.splice(a,1),document.querySelector("#taskListSection").innerHTML="",t.forEach((e=>c(e)))})),L.setAttribute("title","Delete"),s.append(r,i),l.append(y,f,v,L),o.append(s,l),a.appendChild(o),u.append(m,p,b),d.appendChild(u),a.appendChild(d)}let n=[];function a(){const e=document.querySelectorAll(".sidebar-item");for(let t=0;t<e.length;t++)e[t].addEventListener("click",(function(){let e=document.getElementsByClassName("active");e[0].className=e[0].className.replace(" active",""),this.className+=" active"}))}const o=()=>{document.querySelector("#taskListSection").innerHTML=""},s=e=>{document.querySelector("#projectTitle").innerText=e},r=e=>t.filter((t=>t.projectSelected===e));(function(){const e=document.querySelectorAll(".sidebar-item");for(let t=0;t<e.length;t++)e[t].addEventListener("click",(function(){let e=document.getElementsByClassName("active");e[0].className=e[0].className.replace(" active",""),this.className+=" active"}))})(),document.querySelector("#submitTaskBtn").addEventListener("click",(function(){(function(){const e={name:document.querySelector("#taskNameInput").value,description:document.querySelector("#taskDescription").value,date:document.querySelector("#taskDueDate").value,time:document.querySelector("#todoTime").value,priority:document.querySelector("#taskPriority").value,projectSelected:document.querySelector("#taskProject").value};t.push(e),c(e)})(),document.querySelector("#taskNameInput").value="",document.querySelector("#taskDescription").value="",document.querySelector("#taskDueDate").value="",document.querySelector("#todoTime").value=""})),document.querySelector("#submitProjectBtn").addEventListener("click",(function(){(()=>{const e=(e=>{const t=[];return{name:document.querySelector("#newProjectInput").value,taskList:t,taskNum:t.length}})();n.push(e),function(e){const t=document.querySelector("#taskProject"),c=document.createElement("option");c.setAttribute("value",`${e.name}`),c.innerText=e.name,t.appendChild(c)}(e),function(e){const t=document.querySelector("#projectGroup"),c=document.createElement("li");c.classList.add("list-group-item","border-0","sidebar-item","project-item"),c.innerHTML=`<i class="fa-regular fa-circle"></i>${e.name}`,t.appendChild(c)}(e)})(),document.querySelectorAll(".project-item").forEach((e=>e.addEventListener("click",(()=>{s(e.innerText),o();for(let t=0;t<r(e.innerText).length;t++)c(r(e.innerText)[t])})))),a();for(let e=0;e<r(document.querySelector(".active").innerText).length;e++)c(r(document.querySelector(".active").innerText)[e])})),document.querySelectorAll(".sidebar-item").forEach((e=>e.addEventListener("click",(()=>{s(e.innerText),o(),a()})))),document.querySelector("#inbox").addEventListener("click",(function(){for(let e=0;e<r("Inbox").length;e++)c(r("Inbox")[e])})),localStorage.setItem("taskList",JSON.stringify(t)),console.log(localStorage)})();